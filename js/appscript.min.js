function onUpdateReady(){alert("Sosialapp vil oppdateres neste gang du laster om siden")}function setforste(){var e=0;localStorage.setItem("forste",JSON.stringify(e)),visetterforstegang()}function skjulforstegang(){"use strict";document.getElementById("sisteaktivitet-forside").style.display="none",document.getElementById("antdag-forside").style.display="none",document.getElementById("status-dager-forside-overskrift").style.display="none",document.getElementById("status-graf-forside-overskrift").style.display="none",document.getElementById("status-graf-forside").style.display="none",document.getElementById("antdag").style.display="none",document.getElementById("status-dager-eval-overskrift").style.display="none",document.getElementById("status-graf-eval-overskrift").style.display="none",document.getElementById("status-graf-eval").style.display="none",document.getElementById("ovingside-utforte").style.display="none",document.getElementById("ovingside-nesteoving").style.display="none",document.getElementById("forside-menyknapp").style.display="none",lagvelkomst(),document.getElementById("forside-startknapp").style.display="block",document.getElementById("velkomsttekst1").style.display="block",document.getElementById("velkomsttekst2").style.display="block",document.getElementById("forside-neste-link").style.display="none"}function lagvelkomst(){var e='<p style="font-size:1.5em">Velkommen til <span class="spantekst">Sosialapp</span>!</p><p style="float:left;word-wrap:break-word">En app for å øve <span class="spantekst">oppmerksomhet</span> laget for deg som har <span class="spantekst">sosial angst</span> og som mottar behandling ved <span class="spantekst">eMeistring</span>.</p>',t='<p style="font-size:1.5em">Tilgjengelig der du er</p><p style="float:left;word-wrap:break-word">Med denne appen har du øvelsen tilgjengelig på din <span class="spantekst">mobil, nettbrett eller PC</span>. Trykk på <span class="spantekst">knappen over </span>for å starte!</p>',n='<a href="#turslide1" data-role="button" class="ui-btn ui-btn-b"><i class="fa fa-play fa-inverse fa-4x"></i></a>';document.getElementById("velkomsttekst1").innerHTML=e,document.getElementById("velkomsttekst2").innerHTML=t,document.getElementById("forside-startknapp").innerHTML=n}function fjernvelkomst(){var e="",t="",n="";document.getElementById("forside-startknapp").innerHTML=e,document.getElementById("velkomsttekst1").innerHTML=t,document.getElementById("velkomsttekst2").innerHTML=n}function visetterforstegang(){"use strict";lagforsideinnhold(),document.getElementById("sisteaktivitet-forside").style.display="block",document.getElementById("antdag-forside").style.display="block",document.getElementById("status-dager-forside-overskrift").style.display="block",document.getElementById("status-graf-forside-overskrift").style.display="block",document.getElementById("status-graf-forside").style.display="block",document.getElementById("antdag").style.display="block",document.getElementById("status-dager-eval-overskrift").style.display="block",document.getElementById("status-graf-eval-overskrift").style.display="block",document.getElementById("status-graf-eval").style.display="block",document.getElementById("ovingside-utforte").style.display="block",document.getElementById("ovingside-nesteoving").style.display="block",document.getElementById("forside-menyknapp").style.display="block",fjernvelkomst(),document.getElementById("forside-startknapp").style.display="none",document.getElementById("velkomsttekst1").style.display="none",document.getElementById("velkomsttekst2").style.display="none",document.getElementById("forsidemenystor").style.display="block",document.getElementById("forside-neste-link").style.display="block",statustimer()}function lagforsideinnhold(){var e='<a href="#menypanel" id="storforsideknapp" class="ui-btn ui-btn-b"><i class="fa fa-bars fa-inverse fa-4x"></i></a>',t="Antall dager",n="Oppmerksomhet",a='<a href="#grafpop" data-transition="pop" class="statusgraf" data-role="none" onClick="graf()"><i class="fa fa-bar-chart statusgraf"></i></a>';document.getElementById("forside-menyknapp").innerHTML=e,document.getElementById("status-dager-forside-overskrift").innerHTML=t,document.getElementById("status-graf-forside-overskrift").innerHTML=n,document.getElementById("status-graf-forside").innerHTML=a}function forstegang(){"use strict";var e=1,t=0,n=0;document.getElementById("plan-sammetid").style.display="block";for(var a=new Date,l=a.toLocaleDateString(),i=a.getHours(),s=a.getMinutes(),o=0,r=0,d=unikid(),g=0,u=[],m=0;7>m;m++){var c=DateAdd(a,"d",m),p=c.getDate(),v=c.getMonth(),f=c.getFullYear();u[m]={dag:m+1,dato:c,datodag:p,datomnd:v,datoaar:f,datotime:i,datominutter:s,tid:i+":"+s,sted:" ",planlagt:1,utfort:0,evalfor:0,evaletter:0,aktivert:0}}localStorage.setItem("forste",JSON.stringify(e)),localStorage.setItem("antall",JSON.stringify(t)),localStorage.setItem("ovingsinstillinger",JSON.stringify(n)),localStorage.setItem("startdato",JSON.stringify(l)),localStorage.setItem("startforbruk",JSON.stringify(l)),localStorage.setItem("neste",JSON.stringify(o)),localStorage.setItem("lydklipp",JSON.stringify(r)),localStorage.setItem("ovinger",JSON.stringify(u)),localStorage.setItem("unikid",JSON.stringify(d)),localStorage.setItem("aapnet",JSON.stringify(g)),console.log(JSON.parse(localStorage.getItem("ovinger")))}function unikid(){var e=1,t=new Date,n=t.getMilliseconds()+"",a=++t+n+(1e4===++e?e=1:e);return a}function sendtilphp(){if(navigator.onLine){var e=JSON.parse(localStorage.getItem("unikid")),t=JSON.parse(localStorage.getItem("antall")),n=JSON.parse(localStorage.getItem("startdato")),a=JSON.parse(localStorage.getItem("startforbruk")),l=JSON.parse(localStorage.getItem("aapnet")),i=new Date,s=i.toLocaleDateString(),o=JSON.parse(localStorage.getItem("ovinger")),r=o[0].utfort,d=o[0].evalfor,g=o[0].evaletter,u=o[1].utfort,m=o[1].evalfor,c=o[1].evaletter,p=o[2].utfort,v=o[2].evalfor,f=o[2].evaletter,y=o[3].utfort,k=o[3].evalfor,I=o[3].evaletter,b=o[4].utfort,E=o[4].evalfor,B=o[4].evaletter,h=o[5].utfort,S=o[5].evalfor,L=o[5].evaletter,M=o[6].utfort,T=o[6].evalfor,O=o[6].evaletter;$.post("php/regbrukerstat.php",{uid:e,antall:t,startdato:n,startbruk:a,idag:s,antbruk:l,ovingutf0:r,evalfor0:d,evaletter0:g,ovingutf1:u,evalfor1:m,evaletter1:c,ovingutf2:p,evalfor2:v,evaletter2:f,ovingutf3:y,evalfor3:k,evaletter3:I,ovingutf4:b,evalfor4:E,evaletter4:B,ovingutf5:h,evalfor5:S,evaletter5:L,ovingutf6:M,evalfor6:T,evaletter6:O})}}function startintro(){document.getElementById("intro0").style.display="none",introvent(1)}function introvent(e){e>20&&0===+intropause?(document.getElementById("intro0").style.display="block",$("#intro0").fadeIn(),$("#intro20").fadeOut(),document.getElementById("intro20").style.display="none",document.getElementById("intro-fremdrift").value="0",document.getElementById("turslideslutt").disabled=!1):0===+intropause&&(document.getElementById("intro"+e).style.display="block",$("#intro"+e).fadeIn(),$("#intro"+(e-1)).fadeOut(),document.getElementById("intro"+(e-1)).style.display="none",setTimeout(function(){fortsettintro(+e+1)},1e4))}function fortsettintro(e){for(var t=e;22>t;t++){introfremdrift=(t-1)/20*100,document.getElementById("intro-fremdrift").value=introfremdrift,introvent(t);break}}function pauseintro(e){document.getElementById("intro"+e).style.display="none",$("#intro-sekvens").append("<img id='intropausebilde' src='images/oving-gif/pause.png' onClick='introetterpause("+e+")' />"),intropause=1}function introetterpause(e){$("#intropausebilde").remove(),intropause=0,fortsettintro(e)}function setverdi(e,t){"use strict";var n=document.getElementById(e);n.value=t}function lydbryter(){"use strict";var e=document.getElementById("velg-lyd").value;localStorage.setItem("lydklipp",JSON.stringify(e)),1===parseInt(e)?(document.getElementById("ovingvalg1").style.display="block",document.getElementById("ovingvalg0").style.display="none"):(document.getElementById("ovingvalg0").style.display="block",document.getElementById("ovingvalg1").style.display="none")}function planbryter(){"use strict";var e=document.getElementById("velgsammetid").value,t="";0===parseInt(e)?(document.getElementById("plan-sammetid").style.display="block",t=0,localStorage.setItem("ovingsinstillinger",JSON.stringify(t)),lagplanliste()):1===parseInt(e)&&(document.getElementById("plan-sammetid").style.display="none",t=1,localStorage.setItem("ovingsinstillinger",JSON.stringify(t)),lagplanliste())}function opphavsrettdato(){"use strict";var e=2015,t=new Date;t=e===t.getFullYear()?t.getFullYear():e+"-"+t.getFullYear();for(var n=0;5>n;n++)document.getElementById("footerside"+(n+1)).innerHTML="<a href='#popup-om-appen' data-transition='pop' style='color:#666666;text-decoration:none;' data-role='none'><i class='fa fa-copyright' style='font-size:1.3em'></i> <span class='elogo1' style='padding-right:0.1em'>  e</span><span class='elogo2'>Meistring  </span><span style='font-size:1.3em'>"+t+"</span></a>",document.getElementById("footerside"+(n+1)+"alt").innerHTML="<a href='#popup-om-appen' data-transition='pop' style='color:#666666;text-decoration:none;' data-role='none'><i class='fa fa-copyright' style='font-size:1.3em'></i><span class='elogo1' style='padding-right:0.1em'>  e</span><span class='elogo2'>Meistring  </span><span style='font-size:1.3em'>"+t+"</span></a>"}function lagaarliste(e,t){"use strict";for(var n=new Date,a=n.getFullYear(),l="",i=JSON.parse(localStorage.getItem("ovinger")),s=i[0].datoaar,o=(document.getElementById(e),0);2>o;o++){var r=a+o,d="";d=r===s&&0===+t?"selected='selected'":"",l+="<option value='"+r+"' "+d+">"+r+"</option>"}document.getElementById(e).innerHTML=l}function lagmndliste(e,t,n){"use strict";for(var a=JSON.parse(localStorage.getItem("ovinger")),l=a[0].datomnd,i=new Date,s=(i.getMonth(),i.getFullYear(),""),o=document.getElementById(t),r=(o.options[o.selectedIndex].value,document.getElementById(e),0);12>r;r++){if(r===l&&0===+n)var d="selected='selected'";else if(r===+n&&+n>0)d="selected='selected'";else var d="";var g=r;s+="<option value='"+g+"' "+d+">"+talltilmnd(g)+"</option>"}document.getElementById(e).innerHTML=s}function lagdagliste(e,t,n,a){"use strict";var l=JSON.parse(localStorage.getItem("ovinger")),i=l[0].datodag-1,s=new Date,o=(s.getDate(),s.getMonth(),s.getFullYear(),""),r=document.getElementById(n),d=r.options[r.selectedIndex].value,g=document.getElementById(t),u=g.options[g.selectedIndex].value,m=parseInt(u),c=(document.getElementById(e),0);c=0===m||2===m||4===m||6===m||7===m||9===m||11===m?31:3===m||5===m||8===m||10===m?30:1===m&&d%4===0&&d%100!==0||d%400===0?28:29;for(var p=0;c>p;p++){var v=p+1,f="";f=p===i&&0===+a?"selected='selected'":p===+a&&+a>0?"selected='selected'":"";var y="";y=10>v?"0"+v:v,o+="<option value='"+v+"' "+f+">"+y+"</option>"}document.getElementById(e).innerHTML=o}function sjekkdato(e,t,n){var a=new Date,l=(a.getDate(),a.getMonth(),a.getFullYear(),document.getElementById(n)),i=l.options[l.selectedIndex].value,s=document.getElementById(t),o=s.options[s.selectedIndex].value,r=document.getElementById(e),d=r.options[r.selectedIndex].value,g="",u="0px solid #ffffff";+d<+a.getDate()&&+o===+a.getMonth()&&+i===+a.getFullYear()?(g="<i class='fa fa-times-circle'></i> Datoen er tilbake i tid. Vennligst velg en annen dato.",u="2px solid #f18b78"):+o<+a.getMonth()&&+i===+a.getFullYear()&&(g="<i class='fa fa-times-circle'></i> Datoen er tilbake i tid. Vennligst velg en annen dato.",u="2px solid #f18b78"),document.getElementById("feildato").innerHTML="<span class='spantekstfeil'>"+g+"</span>",document.getElementById("datotabell").style.border=u}function sjekk_aarfelt(e,t,n){var a=document.getElementById(t),l=a.options[a.selectedIndex].value;sjekkdato(e,t,n),lagmndliste(t,n,l)}function sjekk_mndfelt(e,t,n){var a=document.getElementById(e),l=a.options[a.selectedIndex].value;sjekkdato(e,t,n),lagdagliste(e,t,n,l)}function talltilmnd(e){"use strict";var t="";switch(e){case 0:t="jan";break;case 1:t="feb";break;case 2:t="mar";break;case 3:t="apr";break;case 4:t="mai";break;case 5:t="jun";break;case 6:t="jul";break;case 7:t="aug";break;case 8:t="sep";break;case 9:t="okt";break;case 10:t="nov";break;case 11:t="des"}return t}function lagtimeliste(e){"use strict";for(var t=(JSON.parse(localStorage.getItem("ovinger")),JSON.parse(localStorage.getItem("antall")),new Date),n=(t.getHours(),""),a=0;24>a;a++){var l="";if(10>a){l=a;var i="0"+a;n+="<option value='"+l+"' >"+i+"</option>"}else l=a,n+="<option value='"+l+"' >"+l+"</option>"}document.getElementById(e).innerHTML=n}function lagminuttliste(e){"use strict";for(var t=(JSON.parse(localStorage.getItem("ovinger")),JSON.parse(localStorage.getItem("antall")),new Date),n=(t.getMinutes(),""),a=0;60>a;a++){var l="";if(10>a){l=a;var i="0"+a;n+="<option value='"+l+"' >"+i+"</option>"}else l=a,n+="<option value='"+l+"' >"+l+"</option>"}document.getElementById(e).innerHTML=n}function DateAdd(e,t,n){"use strict";var a=e.getFullYear(),l=e.getMonth(),i=e.getDate();return"y"===t&&(a+=n),"m"===t&&(l+=n),"d"===t&&(i+=n),new Date(a,l,i)}function lagplanleggingspopup(e){"use strict";var t=JSON.parse(localStorage.getItem("ovinger"));lagtimeliste("plan-time-oving","n"),lagminuttliste("plan-minutt-oving","n"),document.getElementById("plandagoverskrift").innerHTML="Planlegg dag "+e,document.getElementById("plan-oving-dag-knapp").innerHTML='<a href="#" id="plan-dag'+e+'-send" class="ui-btn uit-corner-all ui-shadow ui-btn-c ui-btn-icon-left ui-icon-check" onClick="lagreenplan('+e+')">Lagre instillinger</a>',document.getElementById("plan-dialg-tekstfelt").innerHTML="<input class='ui-bar ui-body-e' name='plan-sted-oving"+e+"' id='plan-sted-oving"+e+"' value='"+t[e-1].sted+"' onkeypress='{if (event.keyCode==13)lagreenplan("+e+")}' type='text' placeholder='f.eks. hjemme...'>"}function lagovingspopup(e){$("body").on("pagecontainershow",function(t,n){"ovingpopup"==n.toPage.prop("id")&&(erbrukeronline(),document.getElementById("ovingoverskrift").innerHTML="Øvelse dag "+e,document.getElementById("ferdigknappoving").innerHTML='<a href="#" data-rel="back" id="ovingferdig'+e+'" class="ui-btn uit-corner-all ui-shadow ui-btn-b ui-btn-icon-right ui-icon-check" onClick="lagreOving('+e+')">Lagre</a>')})}function lagevalpopup(e){"use strict";var t=JSON.parse(localStorage.getItem("ovinger"));document.getElementById("evaloverskrift").innerHTML="Evaluering dag "+e,document.getElementById("visevalfor").value=parseInt(t[e-1].evalfor)+3,document.getElementById("visevaletter").value=parseInt(t[e-1].evaletter)+3}function ovingnesteknapp(e){"use strict";var t=document.getElementById("lydklipp1");1===e?(document.getElementById("blokk1").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center;background-color:#f18b78;' id='visdel1'>Før</div>",document.getElementById("blokk2").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center;background-color:#f18b78;' id='visdel2'>Øvelse</div>",document.getElementById("tab2").style.display="block",document.getElementById("tab1").style.display="none",document.getElementById("tab3").style.display="none"):(document.getElementById("blokk2").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center;background-color:#f18b78;' id='visdel2'>Øvelse</div>",document.getElementById("blokk3").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center;background-color:#f18b78;' id='visdel3'>Etter</div>",document.getElementById("tab3").style.display="block",document.getElementById("tab2").style.display="none",document.getElementById("tab1").style.display="none",t.pause())}function lydvalg(){"use strict";var e=document.getElementById("lydklipp1");return e.addEventListener("timeupdate",fremdriftLyd,!1),e.addEventListener("ended",klippSlutt,!1),e}function spillavLyd(){"use strict";$("#velg-lyd").flipswitch("disable");var e=document.getElementById("lydklipp1");e.paused?(document.getElementById("spillav").innerHTML="<button class='ui-btn ui-btn-b' id='spillavlydklipp' onClick='spillavLyd()'><i class='fa fa-pause fa-2x'></i></button>",e.play()):(document.getElementById("spillav").innerHTML="<button class='ui-btn ui-btn-b' id='spillavlydklipp' onClick='spillavLyd()'><i class='fa fa-play fa-2x'></i></button>",e.pause())}function klippSlutt(){"use strict";document.getElementById("spillav").innerHTML="<button class='ui-btn ui-btn-b'><i class='fa fa-play fa-2x'></i></button>",document.getElementById("nesteknapp2").disabled=!1,$("#velg-lyd").flipswitch("enable"),document.getElementById("spillerfremdrift").value=0,document.getElementById("spillerfremdrift-etter").innerHTML=""}function fremdriftLyd(){"use strict";var e=document.getElementById("lydklipp1"),t=0;e.currentTime>0&&(t=Math.floor(100/e.duration*e.currentTime));var n=(e.duration/60).toFixed(2),a=(e.currentTime/60).toFixed(2);document.getElementById("spillerfremdrift").value=t,document.getElementById("spillerfremdrift-etter").innerHTML="Spiller av "+a+" av "+n+" minutt"}function startoving(){document.getElementById("sosoving0").style.display="none",bildevent(1)}function bildevent(e){e>43&&0===+pause?(document.getElementById("sosoving0").style.display="block",$("#sosoving0").fadeIn(),$("#sosoving43").fadeOut(),document.getElementById("sosoving43").style.display="none",document.getElementById("hjelp").innerHTML="Øvingen er ferdig",document.getElementById("ov-fremdrift").value="0"):0===+pause&&(document.getElementById("sosoving"+e).style.display="block",$("#sosoving"+e).fadeIn(),$("#sosoving"+(e-1)).fadeOut(),document.getElementById("sosoving"+(e-1)).style.display="none",hjelpetekst(e),setTimeout(function(){fortsettoving(+e+1)},12e3))}function fortsettoving(e){for(var t=e;45>t;t++){fremdrift=(t-1)/43*100,document.getElementById("ov-fremdrift").value=fremdrift,bildevent(t);break}}function pauseoving(e){document.getElementById("sosoving"+e).style.display="none",$("#oving-sekvens").append("<img id='pausebilde' src='images/oving-gif/pause.png' onClick='startetterpause("+e+")' />"),document.getElementById("hjelp").innerHTML="Øvelsen er satt på pause. Trykk på bildet over for å fortsette.",pause=1}function stoppoving(){for(var e=0;44>e;e++)"block"===document.getElementById("sosoving"+e).style.display&&(document.getElementById("sosoving"+e).style.display="none");document.getElementById("sosoving0").style.display="block",document.getElementById("hjelp").innerHTML="Trykk på bildet over for å starte øvingen",pause=0,fremdrift=0}function startetterpause(e){$("#pausebilde").remove(),pause=0,fortsettoving(e),hjelpetekst(e)}function hjelpetekst(e){tekst="",1===e&&(tekst="",$("#velg-lyd").flipswitch("disable")),2===e&&(tekst="(Gjør deg klar til å starte øvingen)"),3===e||23===e?tekst="Fokuser på alle typer lyder foran deg":4===e||24===e?tekst="Fokuser på alle typer lyder til høyre for deg":5===e||25===e?tekst="Fokuser på alle typer lyder til venstre for deg":6===e||26===e?tekst="Fokuser på alle typer lyder bak deg":7===e||27===e?tekst="Fokuser på alle typer lyder i alle retninger rundt deg":8===e||28===e?tekst="Fokuser på lyder fra natur foran deg (dyr, vind, regn...)":9===e||29===e?tekst="Fokuser på lyder fra natur til høyre for deg (dyr, vind, regn...)":10===e||30===e?tekst="Fokuser på lyder fra natur til venstre for deg (dyr, vind, regn...)":11===e||31===e?tekst="Fokuser på lyder fra natur bak deg (dyr, vind, regn...)":12===e||32===e?tekst="Fokuser på lyder fra natur i alle retninger rundt deg (dyr, vind, regn...)":13===e||33===e?tekst="Fokuser på mekaniske lyder foran deg (biler, maskiner...)":14===e||34===e?tekst="Fokuser på mekaniske lyder til høyre for deg (biler, maskiner...)":15===e||35===e?tekst="Fokuser på mekaniske lyder til venstre for deg (biler, maskiner...)":16===e||36===e?tekst="Fokuser på mekaniske lyder bak deg (biler, maskiner...)":17===e||37===e?tekst="Fokuser på mekaniske lyder i alle retninger rundt deg (biler, maskiner...)":18===e||38===e?tekst="Fokuser på lyder fra andre mennesker foran deg (stemmer, fottrinn..)":19===e||39===e?tekst="Fokuser på lyder fra andre mennesker til høyre for deg (stemmer, fottrinn..)":20===e||40===e?tekst="Fokuser på lyder fra andre mennesker til venstre for deg (stemmer, fottrinn..)":21===e||41===e?tekst="Fokuser på lyder fra andre mennesker bak deg (stemmer, fottrinn..)":22===e||42===e?tekst="Fokuser på lyder fra andre mennesker i alle retninger rundt deg (stemmer, fottrinn..)":43===e&&(tekst="( Øvelsen er ferdig. Trykk på 'Neste' knappen under for å fortsette. )",document.getElementById("nesteknapp2").disabled=!1,$("#velg-lyd").flipswitch("enable")),document.getElementById("hjelp").innerHTML=tekst}function lagplanliste(){"use strict";for(var e=JSON.parse(localStorage.getItem("ovinger")),t=JSON.parse(localStorage.getItem("ovingsinstillinger")),n=JSON.parse(localStorage.getItem("antall")),a="",l="",i=0;i<e.length;i++){var s=e[i].datomnd,o=talltilmnd(parseInt(s)),r=e[i].datodag,d=e[i].datoaar;10>r&&(r="0"+r);var g=r+". "+o+" "+d,u=e[i].datotime;10>u&&(u="0"+u);var m=e[i].datominutter;10>m&&(m="0"+m);var c=u+":"+m;0===e[i].utfort&&1===t?(a+="<li><a href='#planpopup' onClick='lagplanleggingspopup("+e[i].dag+")' id='popup-planlegg"+e[i].dag+"' data-transition='pop' class='ui-btn ui-btn-c ui-icon-carat-r ui-btn-icon-right'><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[i].dag+"</div></div><div class='ovinginfo'><div class='ovinginfo-oppe'>"+g+" kl: "+c+" "+e[i].sted+"</div><div class='ovinginfo-nede'>Planlegg øving</div></div></a></li>",l+=""):0===e[i].utfort&&0===t?(a+="<li><a href='#planpopup' id='popup-planlegg"+e[i].dag+"' class='ui-btn ui-btn-c ui-icon-carat-r ui-btn-icon-right ui-state-disabled'><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[i].dag+"</div></div><div class='ovinginfo'><div class='ovinginfo-oppe'> "+g+" kl: "+c+" "+e[i].sted+"</div><div class='ovinginfo-nede'>Planlegg øving</div></div></a></li>",l+=""):1===e[i].utfort?(l+="<li><a href='' id='popup-planlegg"+e[i].dag+"' class='ui-btn ui-btn-d ui-icon-? ui-nodisc-icon ui-state-disabled''><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[i].dag+"</div></div><div class='ovinginfo'>  <div class='ovinginfo-oppe'></div><div class='ovinginfo-nede'>Fullført øvelse</div></div></a></li>",a+=""):(a+="",l+="")}+n>=1&&(document.getElementById("plan-aar").disabled=!0,document.getElementById("plan-mnd").disabled=!0,document.getElementById("plan-dag").disabled=!0),document.getElementById("planliste").innerHTML=a+l}function lagovingliste(){"use strict";for(var e=(new Date,JSON.parse(localStorage.getItem("ovinger"))),t="",n="",a=0,l=0;l<e.length;l++){var i=e[l].datomnd,s=talltilmnd(parseInt(i)),o=e[l].datodag,r=e[l].datoaar,d=e[l].aktivert;10>o&&(o="0"+o);var g=o+". "+s+" "+r,u=e[l].datotime;10>u&&(u="0"+u);var m=e[l].datominutter;10>m&&(m="0"+m);var c=u+":"+m;a=e[l].dag>1?e[l-1].utfort:1,1===+d&&1===+a&&0===e[l].utfort?t+="<li><a href='#ovingpopup' onClick='lagovingspopup("+e[l].dag+")' id='popup-oving"+e[l].dag+"' data-transition='pop' class='ui-btn ui-btn-b ui-icon-carat-r ui-btn-icon-right'><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[l].dag+"</div></div><div class='ovinginfo'><div class='ovinginfo-oppe'> "+g+" kl: "+c+" "+e[l].sted+"</div><div class='ovinginfo-nede'>Start øvelse</div></div></a></li>":1===e[l].utfort?n+="<li><a href='#' id='popup-oving"+e[l].dag+"' class='ui-btn ui-btn-d ui-icon-? ui-nodisc-icon ui-state-disabled'><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[l].dag+"</div></div><div class='ovinginfo'><div class='ovinginfo-oppe'></div><div class='ovinginfo-nede'>Fullført øvelse</div></div></a></li>":(t+="",n+="")}document.getElementById("ovingsliste").innerHTML=t+n}function lagevalliste(){"use strict";var e=JSON.parse(localStorage.getItem("ovinger"));e.reverse();for(var t="",n=0;n<e.length;n++)t+=1===e[n].utfort?"<li><a href='#evalpopup' onClick='lagevalpopup("+e[n].dag+")' id='popup-eval"+e[n].dag+"' data-transition='pop' class='ui-btn ui-btn-c ui-icon-? ui-nodisc-icon ui-btn-icon-right'><div class='ovingdag'><div class='dag'>Dag</div><div class='dagnr'>"+e[n].dag+"</div></div><div class='ovinginfo'><div class='ovinginfo-oppe'></div><div class='ovinginfo-nede'>Se evaluering</div></div></a></li>":"";document.getElementById("evalliste").innerHTML=t}function lagreplanalle(){"use strict";var e=new Date,t=JSON.parse(localStorage.getItem("ovingsinstillinger")),n=JSON.parse(localStorage.getItem("ovinger")),a=document.getElementById("plan-time").value,l=document.getElementById("plan-minutt").value,i=document.getElementById("plan-sted").value,s=JSON.parse(localStorage.getItem("neste")),o=JSON.parse(localStorage.getItem("antall")),r=document.getElementById("plan-dag").value,d=document.getElementById("plan-mnd").value,g=document.getElementById("plan-aar").value,u=new Date(g,d,r),m=0;m=+r<+e.getDate()&&+d===+e.getMonth()&&+g===+e.getFullYear()?1:+d<+e.getMonth()&&+g===+e.getFullYear()?1:0;for(var c=0;c<n.length;c++)if(0===+o&&0===+t&&0===n[c].utfort&&0===+m){var p=DateAdd(u,"d",c);n[c].dato=p,n[c].datodag=p.getDate(),n[c].datomnd=p.getMonth(),n[c].datoaar=p.getFullYear(),n[c].datotime=a,n[c].datominutter=l,n[c].tid=a+":"+l,n[c].sted=i,n[c].planlagt=1,n[c].aktivert=0,localStorage.setItem("ovinger",JSON.stringify(n)),document.getElementById("feildato").innerHTML="",document.getElementById("erlagret").innerHTML="<p>Endringene er lagret.</p>",lagplanliste(),lagovingliste()}else if(0===+o&&1===+t&&0===n[c].utfort&&0===+m){var p=DateAdd(u,"d",c);n[c].dato=p,n[c].datodag=p.getDate(),n[c].datomnd=p.getMonth(),n[c].datoaar=p.getFullYear(),n[c].planlagt=1,n[c].aktivert=0,localStorage.setItem("ovinger",JSON.stringify(n)),document.getElementById("feildato").innerHTML="",document.getElementById("erlagret").innerHTML="<p>Endringene er lagret.</p>",lagplanliste(),lagovingliste()}else+o>0&&0===+n[c].utfort&&0===+t?(n[c].datotime=a,n[c].datominutter=l,n[c].tid=a+":"+l,n[c].sted=i,n[c].planlagt=1,n[c].aktivert=0,document.getElementById("feildato").innerHTML="",localStorage.setItem("ovinger",JSON.stringify(n)),document.getElementById("erlagret").innerHTML="<p>Endringene er lagret.</p>",lagplanliste(),lagovingliste()):0===+o&&+m>0&&(document.getElementById("feildato").innerHTML="Datoen er tilbake i tid. Vennligst velg en annen dato.");setTimeout(function(){document.getElementById("erlagret").innerHTML=""},5e3),nesteoving(s)}function lagreenplan(e){var t=(new Date,JSON.parse(localStorage.getItem("ovinger"))),n=document.getElementById("plan-time-oving").value,a=document.getElementById("plan-minutt-oving").value,l=document.getElementById("plan-sted-oving"+e).value,i=JSON.parse(localStorage.getItem("neste"));t[e-1].datotime=n,t[e-1].datominutter=a,t[e-1].tid=n+":"+a,t[e-1].sted=l,t[e-1].planlagt=1,t[e-1].aktivert=0,localStorage.setItem("ovinger",JSON.stringify(t)),lagplanliste(),lagovingliste(),nesteoving(i),document.getElementById("erlagret2").innerHTML="<p>Endringene er lagret.</p>",setTimeout(function(){document.getElementById("erlagret2").innerHTML=""},5e3),$(".ui-dialog-page").dialog("close")}function lagreOving(e){"use strict";for(var t=JSON.parse(localStorage.getItem("ovinger")),n=JSON.parse(localStorage.getItem("neste")),a=0;a<t.length;a++)if(t[a].dag===e){t[a].evalfor=document.getElementById("ovingevalfor").value,t[a].evaletter=document.getElementById("ovingevaletter").value,t[a].utfort=1,t[a].aktivert=0,n=a+1;break}localStorage.setItem("ovinger",JSON.stringify(t)),localStorage.setItem("neste",JSON.stringify(n)),lagplanliste(),lagovingliste(),lagevalliste(),antalldager(),nesteoving(n),graf(),tabreset(),sendtilphp(),$(".ui-dialog-page").dialog("close")}function statustimer(){setInterval(sjekkstatus,1e3)}function antalldager(){"use strict";for(var e=JSON.parse(localStorage.getItem("ovinger")),t=0,n=0;n<e.length;n++)1===e[n].utfort&&(t+=1);localStorage.setItem("antall",JSON.stringify(t)),document.getElementById("antdag").innerHTML=t,document.getElementById("antdag-forside").innerHTML=t,document.getElementById("ovingside-utforte").innerHTML="Du har gjennomført <span class='spantekst'>"+t+"</span> av <span class='spantekst'>7</span> dager.",7===+t&&(document.getElementById("7dagerferdig").innerHTML="Du har nå gjennomført 7 dager med oppmerksomhetsøvelser. Bra jobba!")}function nesteoving(e){"use strict";for(var t=JSON.parse(localStorage.getItem("ovinger")),n="",a="",l="",i="",s=new Date,o=0;o<t.length;o++)if(t[o].dag===parseInt(e)+1){n=t[o].dag;var r=t[o].aktivert,d=t[o].datomnd,g=talltilmnd(parseInt(d)),u=t[o].datoaar,m=t[o].datodag,c=m;10>m&&(m="0"+m),l=+u===+s.getFullYear?m+". "+g:m+". "+g+" "+u;var p=t[o].datotime;10>p&&(p="0"+p);var v=t[o].datominutter;10>v&&(v="0"+v),a=p+":"+v,i=t[o].sted,1===+r?(document.getElementById("sisteaktivitet-forside").innerHTML="<a href='#ovingpopup' onClick='lagovingspopup("+t[o].dag+")' data-role='none' style='color:#ffffff;text-decoration:none'><i class='fa fa-chevron-circle-right fa-2x' style='font-size:1em;'></i> En ny øvelse er tilgjengelig nå. <i class='fa fa-chevron-circle-right fa-2x' style='font-size:1em;'></i></a>",document.getElementById("ovingside-nesteoving").innerHTML="Du har en planlagt øvelse som er tilgjengelig nå:",lagovingliste()):+d===+s.getMonth()&&+u===+s.getFullYear()&&+c===+s.getDate()&&0===+r?(document.getElementById("ovingside-nesteoving").innerHTML="Neste øvelse: i dag kl: "+a+" "+i,document.getElementById("sisteaktivitet-forside").innerHTML="Neste øvelse:<br/> i dag kl: "+a+" "+i,lagovingliste()):(document.getElementById("ovingside-nesteoving").innerHTML="Neste øvelse: "+l+" kl: "+a+" "+i,document.getElementById("sisteaktivitet-forside").innerHTML="Neste øvelse:<br/> "+l+" kl: "+a+" "+i,lagovingliste());break}}function sjekkstatus(){"use strict";for(var e=(JSON.parse(localStorage.getItem("alarm")),JSON.parse(localStorage.getItem("forste")),JSON.parse(localStorage.getItem("ovinger"))),t=JSON.parse(localStorage.getItem("neste")),n=new Date,a=n.getDate(),l=n.getMonth(),i=n.getFullYear(),s=n.getHours(),o=n.getMinutes(),r=0;r<e.length;r++){var d=e[r].datodag,g=e[r].utfort,u=e[r].datomnd,m=e[r].datoaar,c=e[r].datotime,p=e[r].datominutter,v=e[r].aktivert;+d===+a&&+u===+l&&+m===+i&&(+c===+s&&+o>=+p||+s>+c)&&0===+v&&0===+g?(e[r].aktivert=1,nesteoving(t),lagovingliste(),lagplanliste(),localStorage.setItem("ovinger",JSON.stringify(e))):+a>+d&&+u===+l&&+m===+i&&0===+v&&0===+g?(e[r].aktivert=1,lagovingliste(),lagplanliste(),localStorage.setItem("ovinger",JSON.stringify(e)),nesteoving(t)):+l>+u&&+m===+i&&0===+v&&0===+g?(e[r].aktivert=1,lagovingliste(),lagplanliste(),localStorage.setItem("ovinger",JSON.stringify(e)),nesteoving(t)):+i>+m&&0===+v&&0===+g?(e[r].aktivert=1,lagovingliste(),lagplanliste(),localStorage.setItem("ovinger",JSON.stringify(e)),nesteoving(t)):nesteoving(t)}}function graf(){$("body").on("pagecontainershow",function(e,t){if("grafpop"==t.toPage.prop("id")){var n=JSON.parse(localStorage.getItem("ovinger")),a=JSON.parse(localStorage.getItem("antall")),l={labels:[],datasets:[{fillColor:"rgba(100,100,100,0.7)",strokeColor:"rgba(100,100,100,0.5)",highlightFill:"rgba(178,232,178,0.9)",highlightStroke:"rgba(178,232,178,0.7)",data:[]},{fillColor:"rgba(7,178,220,0.7)",strokeColor:"rgba(7,178,220,0.5)",highlightFill:"rgba(178,232,178,0.9)",highlightStroke:"rgba(178,232,178,0.7)",data:[]}]},i=document.getElementById("grafdiv");i.innerHTML="",i.innerHTML="<canvas id='popupgraf' class='grafpopup' width='400' height='400'></canvas>";var s=document.getElementById("popupgraf").getContext("2d");s.clearRect(0,0,400,400);for(var o=new Chart(s).Bar(l,{scaleOverride:!0,scaleSteps:6,scaleStepWidth:1,scaleStartValue:-3,scaleLabel:"<%= evaltalltiltekst(Number(value)) %>",scaleBeginAtZero:!1,responsive:!0}),r=0;a>r;r++)o.addData([n[r].evalfor,n[r].evaletter],"Dag "+(r+1))}})}function evaltalltiltekst(e){"use strict";var t="";switch(e){case-3:t="Internt";break;case-2:t="-";break;case-1:t="-";break;case 0:t="Nøytral";break;case 1:t="-";break;case 2:t="-";break;case 3:t="Eksternt"
}return t}function erbrukeronline(){navigator.onLine?(document.getElementById("online-feilmelding").innerHTML="",document.getElementById("spillavlydklipp").disabled=!1,$("#velg-lyd").flipswitch("enable")):(document.getElementById("online-feilmelding").innerHTML="<span class='spantekstfeil'><i class='fa fa-times-circle'></i> Øvelsen med lyd er ikke tilgjengelig fordi du ikke er koblet til Internett. Du kan enten gjøre den visuelle versjonen av øvelsen, eller gjøre øvelsen med lyd senere når du er tilkoblet til Internett. </span>",document.getElementById("spillavlydklipp").disabled=!0,$("#velg-lyd").flipswitch("disable"),document.getElementById("ovingvalg1").style.display="block",document.getElementById("ovingvalg0").style.display="none")}function settinnheader(){var e='<div class="ui-grid-b"><div class="ui-block-a"><div class="ui-bar ui-bar-a"><div class="logotop"><object type="image/svg+xml" data="images/soslogosvg.svg"><img src="images/soslogopng.png" alt="Sosialapp logo" /></object></div></div></div><div class="ui-block-b"><div class="ui-bar ui-bar-a"></div></div><div class="ui-block-c"><div class="ui-bar ui-bar-a" style="padding-top:1em;"><div class="menyside"><a href="#menypanel" style="text-decoration:none;" data-role="none"><i class="fa fa-bars fa-inverse fa-2x"></i></a></div></div></div></div><div data-role="navbar" data-theme="b" data-grid="d" class="meny-storskjerm"><ul class="ui-body-b"><li><a href="#tittelside" data-transition="fade" class="show-page-loading-msg" data-textonly="false" data-textvisible="true" data-msgtext="Laster siden" data-inline="true"><i class="fa fa-home fa-inverse fa-2x"></i><br/>Sosialapp</a></li><li><a href="#oss" data-transition="fade" class="show-page-loading-msg" data-textonly="false" data-textvisible="true" data-msgtext="Laster siden" data-inline="true"><i class="fa fa-info-circle fa-inverse fa-2x"></i><br/>Ofte stilte spørsmål</a></li><li><a href="#planlegging" data-transition="fade" class="show-page-loading-msg" data-textonly="false" data-textvisible="true" data-msgtext="Laster siden" data-inline="true" onClick="lagplanliste()"><i class="fa fa-clock-o fa-inverse fa-2x"></i><br/>Planlegging</a></li><li><a href="#ovelse" data-transition="fade" class="show-page-loading-msg" data-textonly="false" data-textvisible="true" data-msgtext="Laster siden" data-inline="true"><i class="fa fa-volume-up fa-inverse fa-2x"></i><br/>Øvelse</a></li><li><a href="#evaluering" data-transition="fade" class="show-page-loading-msg" data-textonly="false" data-textvisible="true" data-msgtext="Laster siden" data-inline="true"><i class="fa fa-check fa-inverse fa-2x"></i><br/>Evaluering</a></li></ul></div>';document.getElementById("header-intro").innerHTML=e,document.getElementById("header-plan").innerHTML=e,document.getElementById("header-ovelse").innerHTML=e,document.getElementById("header-eval").innerHTML=e,$("[data-role='navbar']").navbar()}function tabreset(){"use strict";document.getElementById("blokk1").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center;background-color:#f18b78;' id='visdel1'>Før</div>",document.getElementById("blokk2").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center' id='visdel2'>Øvelse</div>",document.getElementById("blokk3").innerHTML="<div class='ui-bar ui-bar-b' style='height:25px;text-align:center' id='visdel3'>Etter</div>",document.getElementById("tab1").style.display="block",document.getElementById("tab2").style.display="none",document.getElementById("tab3").style.display="none",document.getElementById("nesteknapp2").disabled=!0}window.onload=function(){if("undefined"!==window.localStorage)if(document.body.style.backgroundColor="#07b2dc",null===localStorage.getItem("ovinger")){forstegang(),settinnheader(),lagplanliste(),lagovingliste(),lagevalliste();var e=document.getElementById("lydklipp1");e.addEventListener("timeupdate",fremdriftLyd,!1),e.addEventListener("ended",klippSlutt,!1),antalldager(),lagtimeliste("plan-time","n"),lagminuttliste("plan-minutt","n"),lagtimeliste("plan-time-oving","n"),setTimeout(lagminuttliste("plan-minutt-oving","n"),100),setTimeout(lagaarliste("plan-aar",0),200),setTimeout(lagmndliste("plan-mnd","plan-aar",0),500),setTimeout(lagdagliste("plan-dag","plan-mnd","plan-aar",0),900),opphavsrettdato(),skjulforstegang(),$('div[data-role="page"]').bind("pageshow",function(){document.title="Sosialapp"})}else{$('div[data-role="page"]').bind("pageshow",function(){document.title="Sosialapp"});var t=JSON.parse(localStorage.getItem("ovingsinstillinger"));settinnheader();var n=JSON.parse(localStorage.getItem("neste")),a=JSON.parse(localStorage.getItem("forste"));setverdi("velgsammetid",t),document.getElementById("plan-sammetid").style.display=0===parseInt(t)?"block":"none";var e=document.getElementById("lydklipp1");e.addEventListener("timeupdate",fremdriftLyd,!1),e.addEventListener("ended",klippSlutt,!1);var l=JSON.parse(localStorage.getItem("lydklipp"));1===parseInt(l)?(document.getElementById("ovingvalg1").style.display="block",document.getElementById("ovingvalg0").style.display="none",setverdi("velg-lyd",l)):(document.getElementById("ovingvalg0").style.display="block",document.getElementById("ovingvalg1").style.display="none",setverdi("velg-lyd",l));var i=JSON.parse(localStorage.getItem("aapnet")),s=+i+1;localStorage.setItem("aapnet",JSON.stringify(s)),statustimer(),lagplanliste(),lagovingliste(),lagevalliste(),tabreset(),antalldager(),lagtimeliste("plan-time","n"),lagminuttliste("plan-minutt","n"),lagtimeliste("plan-time-oving","n"),setTimeout(lagminuttliste("plan-minutt-oving","n"),100),setTimeout(lagaarliste("plan-aar",0),200),setTimeout(lagmndliste("plan-mnd","plan-aar",0),500),setTimeout(lagdagliste("plan-dag","plan-mnd","plan-aar",0),900),opphavsrettdato(),nesteoving(n),sendtilphp(),1===+a?skjulforstegang():visetterforstegang(),console.log(a),window.applicationCache.addEventListener("updateready",onUpdateReady),window.applicationCache.status===window.applicationCache.UPDATEREADY&&onUpdateReady()}else alert("Sosialapp vil ikke virke i denne nettleseren. Oppgrader nettleseren eller bruk en annen nettleser")};var intropause=0,introfremdrift=0,pause=0,fremdrift=0,symbolsynlig=0;$(document).on("pageshow","[data-role='page']",function(){var e=$(this).jqmData("title");$("[data-role='navbar'] a.ui-btn-active").removeClass("ui-btn-active"),$("[data-role='navbar'] a").each(function(){$(this).text()===e&&$(this).addClass("ui-btn-active")})}),$.mobile.document.on("click","#omdato",function(e){$("#popup-omdato").popup("open",{x:e.pageX,y:e.pageY}),e.preventDefault()}),$(document).delegate("#ovingpopup","pagehide",function(){var e=JSON.parse(localStorage.getItem("lydklipp"));1===parseInt(e)?tabreset():(document.getElementById("lydklipp1").pause(),tabreset())}),$(function(){"use strict";$("[data-role=panel]").panel().enhanceWithin()});